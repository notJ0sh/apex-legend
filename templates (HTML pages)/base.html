<!-- NAVBAR LOGIC HERE -->
<!-- ALL JAVASCRIPT DONE HERE WILL APPLY TO ALL PAGES -->
<!-- THIS IS THE BASE TEMPLATE FOR ALL PAGES -->


<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Apex Legend App{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>

<body>
    {% if current_user.is_authenticated %}
    <nav>
        <div class="container">
            <h1>Apex Legend</h1>
            <a href="{{ url_for('home') }}">Home</a>
            {% if current_user.role == 'admin' %}
            <a href="{{ url_for('register') }}">Create User</a>
            <a href="{{ url_for('manage_users') }}">Manage Accounts</a>
            {% endif %}
            <a href="{{ url_for('logout') }}">Logout</a>
            <a href="{{ url_for('settings') }}">Settings</a>
        </div>
    </nav>
    {% endif %}

    <main class="container">
        {% block content %}{% endblock %}
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Tab switching for settings page
            const tabButtons = document.querySelectorAll('.tab-btn');
            if (tabButtons.length > 0) {
                tabButtons.forEach(button => {
                    button.addEventListener('click', function () {
                        // Remove active class from all tabs
                        tabButtons.forEach(btn => btn.classList.remove('active'));
                        // Add active class to clicked tab
                        this.classList.add('active');

                        // Hide all content tabs
                        const contentTabs = document.querySelectorAll('.content-tab');
                        contentTabs.forEach(tab => tab.classList.remove('active'));

                        // Show selected content tab
                        const tabId = this.getAttribute('data-tab');
                        document.getElementById(tabId).classList.add('active');
                    });
                });

                // Form submissions
                const contactForm = document.getElementById('contactForm');
                if (contactForm) {
                    contactForm.addEventListener('submit', function (e) {
                        e.preventDefault();
                        alert('Contact information saved successfully!');
                    });
                }

                const feedbackForm = document.getElementById('feedbackForm');
                if (feedbackForm) {
                    feedbackForm.addEventListener('submit', function (e) {
                        e.preventDefault();
                        alert('Thank you for your feedback!');
                        this.reset();
                    });
                }
            }
        });

        // Form reset functions
        function resetContactForm() {
            if (confirm('Reset all contact information fields?')) {
                const form = document.getElementById('contactForm');
                if (form) form.reset();
            }
        }

        function resetFeedback() {
            if (confirm('Clear all feedback fields?')) {
                const form = document.getElementById('feedbackForm');
                if (form) form.reset();
            }
        }

        function changePassword() {
            alert('Password change functionality would be implemented here.');
        }
    </script>
</body>

</html>